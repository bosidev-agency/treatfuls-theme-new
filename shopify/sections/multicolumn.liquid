<style>
  #shopify-section-{{ section.id }} {
    {%- if section.settings.background_color != 'rgba(0,0,0,0)' and section.settings.background_color != blank -%}
      --section-background-color: {{ section.settings.background_color }};
    {%- endif -%}
    {%- if section.settings.accent_color != 'rgba(0,0,0,0)' and section.settings.accent_color != blank -%}
      --section-accent-color: {{ section.settings.accent_color }};
    {%- endif -%}
    {%- if section.settings.hover_color != 'rgba(0,0,0,0)' and section.settings.hover_color != blank -%}
      --section-hover-color: {{ section.settings.hover_color }};
    {%- endif -%}
  }

  #shopify-section-{{ section.id }} .multicolumn__item-content {
    text-align: {{ section.settings.text_alignment }};
  }
</style>


{%- capture slider_config -%}
  {
    "loop": false,
    "slidesPerView": 1.5,
    "centeredSlides": true,
    "spaceBetween": 40,
    "breakpoints": {
      "768": {
        "slidesPerView": 3,
        "spaceBetween": 40,
        "centeredSlides": false
      }
    }
  }
{%- endcapture -%}

<section
	class="multicolumn"
	data-section-id="{{- section.id -}}"
	data-section-type="multicolumn"
>
	<div class="content-wrapper">
    {%- if section.settings.heading != blank -%}
      <div class="title-wrapper">
        <h1 class="title-wrapper__title title-bg">{{ section.settings.heading }}</h1>
      </div>
    {%- endif -%}

    {%- if section.blocks.size > 0 -%}
      <slider-element data-swiper-config='{{ slider_config }}' class="container container--lg swiper">
        <div class="multicolumn__items swiper-wrapper">
          {% for block in section.blocks %}
            <div class="multicolumn__item swiper-slide">
              <div class="multicolumn__item-image aspect-ratio aspect-ratio--square">
                {% if block.settings.image != blank %}
                  {{ block.settings.image | image_url: width: 1000 | image_tag: class: 'multicolumn__item-image-image' }}
                {% endif %}
              </div>
              <div class="multicolumn__item-content">
                <h3 class="heading mb-30">{{ block.settings.heading }}</h3>
                <div class="multicolumn__item-text">{{ block.settings.content }}</div>
              </div>
            </div>
          {% endfor %}
        </div>
      </slider-element>
    {%- endif -%}
	</div>
  
  <div class="base-triangular-line">
    {%- render 'icon-triangular-line' -%}
  </div>
</section>

{% schema %}
	{
		"name": "Multicolumn",
		"settings": [
			{
				"type": "text",
				"id": "heading",
				"label": "Heading",
				"info": "Need wrap words to see background, <span><span>example</span></span>",
				"default": "So einfach gehts"
			},
      {
        "type": "header",
        "content": "Layout"
      },
      {
        "type": "text_alignment",
        "id": "text_alignment",
        "label": "Text alignment",
        "default": "left",
      },
      {
        "type": "header",
        "content": "Colors"
      },
      {
        "type": "color",
        "id": "background_color",
        "label": "Background Color",
        "default": "#dbaaeb"
      },
      {
        "type": "color",
        "id": "accent_color",
        "label": "Accent Color",
        "default": "#2ac2bd"
      },
      {
        "type": "color",
        "id": "hover_color",
        "label": "Hover Color",
        "default": "#f3587f"
      }
		],
		"blocks": [
			{
				"type": "item",
				"name": "Item",
				"settings": [
					{
						"type": "image_picker",
						"id": "image",
						"label": "Image"
					},
					{
						"type": "text",
						"id": "heading",
						"label": "Heading"
					},
          {
            "type": "richtext",
            "id": "content",
            "label": "Content"
          }
				]
			}
		],
    "presets": [
      {
        "name": "Multicolumn"
      }
    ]
	}
{% endschema %}
